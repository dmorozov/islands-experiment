# Session Memory - Task Manager Application

**Last Updated**: 2025-11-22 06:30 UTC
**Project**: Quarkus + Astro Task Manager (Islands Architecture)
**Status**: Phase 5 Complete (US2), Ready for Phase 6 (US3)

---

## Current State Summary

### Completed Phases

‚úÖ **Phase 1: Initial Setup (T001-T005)** - Project structure created
‚úÖ **Phase 2: Production-Ready Bootstrap Template (T006-T125)** - All quality tooling configured
‚úÖ **Phase 3: Backend Core Infrastructure (T126-T145)** - Foundation complete
‚úÖ **Phase 4: User Story 1 - View and Navigate Tasks (T146-T264)** - Task viewing with filters complete
‚úÖ **Phase 5: User Story 2 - Create and Edit Tasks (T265-T338)** - CRUD operations complete

**Total Progress**: 338/694 tasks completed (49%)

### What's Next

üéØ **Phase 6: User Story 3 - Organize with Categories and Priorities (T350-T432)**
- Starting point: T350 - Contract tests for category CRUD
- Features: Create custom categories, category management UI, visual indicators
- Next milestone: Full category management system

---

## Phase 5 Completion Details (Just Finished!)

### Backend Implementation ‚úÖ

**New DTOs Created**:
- `TaskCreateDTO` - For creating tasks (title, description, categoryId, priority)
- `TaskUpdateDTO` - For updating tasks (all fields optional for PATCH semantics)
- Both include validation constants to avoid magic numbers

**TaskService Enhanced** (`src/main/java/org/acme/taskmanager/service/TaskService.java`):
- `createTask(userId, TaskCreateDTO)` - Validates category ownership, creates task
- `getTaskById(userId, taskId)` - Retrieves single task with ownership check
- `updateTask(userId, taskId, TaskUpdateDTO)` - Updates only non-null fields
- `deleteTask(userId, taskId)` - Deletes with ownership validation

**TaskResource Enhanced** (`src/main/java/org/acme/taskmanager/resource/TaskResource.java`):
- `POST /api/tasks` ‚Üí 201 Created
- `GET /api/tasks/{id}` ‚Üí 200 OK
- `PUT /api/tasks/{id}` ‚Üí 200 OK
- `DELETE /api/tasks/{id}` ‚Üí 204 No Content
- All endpoints include OpenAPI annotations matching api.yaml

**Contract Tests** (`src/test/java/org/acme/taskmanager/contract/TaskResourceTest.java`):
- 7 new test methods covering all CRUD operations
- Tests validation errors (missing title, title >200 chars)
- Tests 404 for invalid UUIDs
- Tests create-update-delete lifecycle

### Frontend Implementation ‚úÖ

**New Islands Created**:

1. **TaskForm.tsx** (`src/islands/TaskForm.tsx`)
   - Supports both "create" and "edit" modes
   - Pre-fills form in edit mode
   - Category dropdown with color indicators
   - Priority dropdown with visual styling
   - Form validation (required fields, max lengths)
   - Optimistic UI updates
   - Error handling with user-friendly messages

2. **NewTaskButton.tsx** (`src/islands/NewTaskButton.tsx`)
   - Modal button component
   - Opens Dialog with TaskForm in create mode
   - Auto-closes on successful creation
   - Wrapped with QueryProvider for TanStack Query

**TaskList.tsx Enhanced**:
- Added inline editing support
- Click task title to edit inline
- Edit/Delete buttons on each task card
- Delete confirmation dialog (Shadcn AlertDialog)
- State management for tracking editing task ID
- Optimistic delete updates

**index.astro Enhanced**:
- Added NewTaskButton to page header
- Button positioned next to ThemeToggle
- Integrated with existing layout

**Shadcn Components Installed**:
- Input, Textarea, Select, Label (form components)
- Dialog (for NewTaskButton modal)
- AlertDialog (for delete confirmation)
- Button (already existed, updated)

### API Client Generation ‚úÖ

**OpenAPI Schema**:
- Location: `src/main/webui/api/openapi.json`
- Auto-generated by Quarkus on dev mode start
- Includes all new endpoints (POST, GET, PUT, DELETE)

**Generated TypeScript Hooks**:
- `usePostApiTasks` - Create task mutation
- `useGetApiTasksId` - Get single task query
- `usePutApiTasksId` - Update task mutation
- `useDeleteApiTasksId` - Delete task mutation
- All with proper TypeScript types from OpenAPI schema

### Files Modified in Phase 5

**Backend**:
- `TaskService.java` - Added 4 new methods
- `TaskResource.java` - Added 4 new REST endpoints
- Created: `TaskCreateDTO.java`
- Created: `TaskUpdateDTO.java`
- `TaskResourceTest.java` - Added 7 contract tests

**Frontend**:
- Created: `islands/TaskForm.tsx` (~260 lines)
- Created: `islands/NewTaskButton.tsx` (~60 lines)
- Modified: `islands/TaskList.tsx` - Added editing/deletion
- Modified: `pages/index.astro` - Added NewTaskButton
- Generated: `lib/api/endpoints/tasks/tasks.ts` (new hooks)

**Documentation**:
- Updated: `specs/001-task-manager-app/tasks.md` (T265-T338 marked complete)

---

## Current Application State

### Running Services

**Quarkus Dev Server**:
- Port: 7171
- Status: Running (background processes detected)
- OpenAPI: http://localhost:7171/swagger-ui
- API Base: http://localhost:7171/api

**Astro Dev Server**:
- Port: 3000 (managed by Quinoa)
- Status: Running (auto-started by Quarkus)
- Forward proxy enabled

**Access URLs**:
- **Main App**: http://localhost:7171/ (Quarkus serves everything)
- **Swagger UI**: http://localhost:7171/swagger-ui
- **Astro Dev** (direct): http://localhost:3000 (proxied)

### Database State

**H2 In-Memory Database**:
- Schema: Auto-generated from JPA entities
- Tables: `categories`, `tasks`
- Data: Empty (reset on each restart)
- DDL Mode: `drop-and-create` (dev only)

**Session State**:
- No active sessions (authentication not yet implemented)
- SessionUtils ready for Phase 9

### Available Endpoints

**Categories**:
- `GET /api/categories` - List all categories for user

**Tasks**:
- `GET /api/tasks` - List tasks (with filters: category, priority, status, page, size)
- `POST /api/tasks` - Create task
- `GET /api/tasks/{id}` - Get single task
- `PUT /api/tasks/{id}` - Update task
- `DELETE /api/tasks/{id}` - Delete task

**Note**: All endpoints require session (401 if not authenticated), but authentication is Phase 9.

---

## Important Context

### Project Architecture

**Backend**: Quarkus 3.28.1 (Java 21)
- Port: 7171
- Database: H2 in-memory (development)
- API Prefix: `/api`
- OpenAPI schema exported to: `src/main/webui/api/openapi.json`
- Session management: Vert.x RoutingContext

**Frontend**: Astro 5.16.0 + Preact (Islands Architecture)
- Dev Port: 3000 (Quinoa-managed)
- Build output: `dist/`
- Path aliases: `@/*` ‚Üí `./src/*`
- State management: Nano Stores (for island communication)

**Integration**: Quinoa 2.7.0 (Quarkus extension for SPA integration)
- Quarkus serves both API and frontend in production
- Dev mode: Quinoa manages Astro dev server, proxies requests
- API requests (`/api/*`) go to Quarkus, others to Astro

### Technology Stack

**Frontend Quality Tools**:
- ESLint 9 (flat config) - Airbnb-style rules manually configured
- Prettier (with Astro + Tailwind plugins)
- Husky + lint-staged (pre-commit hooks)
- TypeScript 5.x strict mode
- Vitest (testing framework)

**Frontend Libraries**:
- Tailwind CSS v4 (@tailwindcss/vite plugin)
- Shadcn/ui (copy-paste components with cn() utility)
- TanStack Query v5 (data fetching/caching)
- Orval (OpenAPI ‚Üí TypeScript client generator)
- Nano Stores (state management)
- Axios (HTTP client)

**Backend Quality Tools**:
- Checkstyle (configured, warnings only)
- PMD (configured, warnings only)
- JUnit 5 + RestAssured (for contract tests)

---

## Critical Constraints & Decisions

### DO NOT Commit Automatically
‚ö†Ô∏è **IMPORTANT**: User reviews and commits manually. Never auto-commit changes.

### Code Quality Standards
- Zero tolerance for quality violations
- ESLint `no-explicit-any` enforced
- Pre-commit hooks block bad commits
- All code must pass format/lint checks

### Checkstyle Violations Fixed
In Phase 5, fixed checkstyle violations in DTOs by:
- Adding @param Javadoc tags for all record parameters
- Creating inner `TaskValidationConstants` class to avoid magic numbers
- Using constants instead of literal 200 and 2000

### Session Management Pattern
- Uses Vert.x `RoutingContext` (not Jakarta `HttpSession`)
- Session attribute: `userId` (String)
- `SessionUtils.getCurrentUserId()` extracts from context
- Throws `UnauthorizedException` if not authenticated

---

## File Structure (Key Locations)

```
/workspaces/
‚îú‚îÄ‚îÄ specs/001-task-manager-app/
‚îÇ   ‚îî‚îÄ‚îÄ tasks.md                 # 338/694 tasks complete
‚îî‚îÄ‚îÄ quarkus-astro-app/
    ‚îú‚îÄ‚îÄ src/main/
    ‚îÇ   ‚îú‚îÄ‚îÄ resources/
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ application.properties
    ‚îÇ   ‚îú‚îÄ‚îÄ java/org/acme/taskmanager/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ model/
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Priority.java       ‚úÖ
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Category.java       ‚úÖ
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Task.java           ‚úÖ
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dto/
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ErrorDTO.java       ‚úÖ
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CategoryResponseDTO.java  ‚úÖ
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TaskResponseDTO.java      ‚úÖ
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TaskCreateDTO.java        ‚úÖ NEW
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TaskUpdateDTO.java        ‚úÖ NEW
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ exception/
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ResourceNotFoundException.java   ‚úÖ
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ValidationException.java         ‚úÖ
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UnauthorizedException.java       ‚úÖ
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ GlobalExceptionMapper.java       ‚úÖ
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repository/
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CategoryRepository.java  ‚úÖ
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TaskRepository.java      ‚úÖ
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ service/
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CategoryService.java     ‚úÖ
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TaskService.java         ‚úÖ ENHANCED
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ resource/
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CategoryResource.java    ‚úÖ
    ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TaskResource.java        ‚úÖ ENHANCED
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ session/
    ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ SessionUtils.java        ‚úÖ
    ‚îÇ   ‚îî‚îÄ‚îÄ webui/
    ‚îÇ       ‚îú‚îÄ‚îÄ api/
    ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ openapi.json         ‚úÖ AUTO-GENERATED
    ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ openapi.yaml         ‚úÖ AUTO-GENERATED
    ‚îÇ       ‚îî‚îÄ‚îÄ src/
    ‚îÇ           ‚îú‚îÄ‚îÄ islands/
    ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ TaskList.tsx         ‚úÖ ENHANCED
    ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ TaskFilter.tsx       ‚úÖ
    ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ ThemeToggle.tsx      ‚úÖ
    ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ TaskForm.tsx         ‚úÖ NEW
    ‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ NewTaskButton.tsx    ‚úÖ NEW
    ‚îÇ           ‚îú‚îÄ‚îÄ pages/
    ‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ index.astro          ‚úÖ ENHANCED
    ‚îÇ           ‚îú‚îÄ‚îÄ components/
    ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ Layout.astro         ‚úÖ
    ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ Navigation.astro     ‚úÖ
    ‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ providers/
    ‚îÇ           ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ QueryProvider.tsx  ‚úÖ
    ‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ ui/                  # Shadcn components
    ‚îÇ           ‚îÇ       ‚îú‚îÄ‚îÄ button.tsx       ‚úÖ
    ‚îÇ           ‚îÇ       ‚îú‚îÄ‚îÄ input.tsx        ‚úÖ NEW
    ‚îÇ           ‚îÇ       ‚îú‚îÄ‚îÄ textarea.tsx     ‚úÖ NEW
    ‚îÇ           ‚îÇ       ‚îú‚îÄ‚îÄ select.tsx       ‚úÖ NEW
    ‚îÇ           ‚îÇ       ‚îú‚îÄ‚îÄ label.tsx        ‚úÖ NEW
    ‚îÇ           ‚îÇ       ‚îú‚îÄ‚îÄ dialog.tsx       ‚úÖ NEW
    ‚îÇ           ‚îÇ       ‚îî‚îÄ‚îÄ alert-dialog.tsx ‚úÖ NEW
    ‚îÇ           ‚îî‚îÄ‚îÄ lib/
    ‚îÇ               ‚îú‚îÄ‚îÄ api/
    ‚îÇ               ‚îÇ   ‚îî‚îÄ‚îÄ endpoints/tasks/
    ‚îÇ               ‚îÇ       ‚îî‚îÄ‚îÄ tasks.ts     ‚úÖ RE-GENERATED
    ‚îÇ               ‚îú‚îÄ‚îÄ state.ts             ‚úÖ
    ‚îÇ               ‚îî‚îÄ‚îÄ storage.ts           ‚úÖ
    ‚îî‚îÄ‚îÄ src/test/java/org/acme/taskmanager/
        ‚îî‚îÄ‚îÄ contract/
            ‚îî‚îÄ‚îÄ TaskResourceTest.java        ‚úÖ ENHANCED
```

---

## Next Steps - Phase 6 Roadmap

### User Story 3: Organize with Categories and Priorities

**Goal**: Users can create custom categories, assign priorities, filter tasks by category/priority with visual indicators (colors, badges). Cross-page state persistence for filters.

**Independent Test**: Click "Manage Categories", create category "Health", save. Create task assigned to "Health" category. Filter by "Health", verify only tasks in that category show. Navigate to another page, return, verify "Health" filter still applied.

### Contract Tests (T350-T355)
Create tests for category CRUD:
- `POST /api/categories` - expect 201
- `POST /api/categories` with duplicate name - expect 409
- `GET /api/categories/{id}` - expect 200
- `PUT /api/categories/{id}` - expect 200
- `DELETE /api/categories/{id}` (non-default) - expect 204
- `DELETE /api/categories/{id}` (default) - expect 400

### Backend DTOs (T356-T359)
- `CategoryCreateDTO` - name, colorCode
- `CategoryUpdateDTO` - name, colorCode (both optional)

### Backend Services (T360-T373)
Implement in `CategoryService`:
- `createCategory()` - validate name uniqueness
- `getCategoryById()` - with ownership check
- `updateCategory()` - validate uniqueness if name changed
- `deleteCategory()` - check `canDelete()`, reject defaults

### Backend API Endpoints (T374-T393)
Add to `CategoryResource`:
- `POST /api/categories`
- `GET /api/categories/{id}`
- `PUT /api/categories/{id}`
- `DELETE /api/categories/{id}`

### Frontend Components (T394-T420)
- `CategoryManager.tsx` island - CRUD UI for categories
  - List with color badges, task counts
  - "New Category" button
  - Inline editing
  - Delete confirmation
  - Color picker component
- `categories.astro` page - Category management page
- Update `TaskList.tsx` and `TaskFilter.tsx` - Visual indicators

---

## Common Commands

### Start Development

```bash
# From repository root: /workspaces/
quarkus dev
# OR from /workspaces/quarkus-astro-app:
./mvnw quarkus:dev

# This starts BOTH:
# - Quarkus backend on http://localhost:7171
# - Astro dev server on http://localhost:3000 (via Quinoa)
# - Swagger UI on http://localhost:7171/swagger-ui

# Access app at: http://localhost:7171/
```

### Run Quality Checks

```bash
# Frontend (from /workspaces/quarkus-astro-app/src/main/webui)
npm run format        # Auto-fix formatting
npm run lint:fix      # Auto-fix linting
npm run test          # Run tests
npm run generate:api  # Generate API client from OpenAPI schema

# Backend (from /workspaces/quarkus-astro-app)
./mvnw verify         # Run tests + Checkstyle + PMD
./mvnw test           # Run tests only
./mvnw test -Dtest=TaskResourceTest  # Run specific test
```

### Install Dependencies

```bash
# Frontend (from webui directory)
npm install

# Backend (from quarkus-astro-app directory)
./mvnw clean install

# Install Shadcn component
npx shadcn@latest add [component-name]
```

### Stop Background Processes

```bash
# If dev servers are running in background:
pkill -f "quarkus dev"
pkill -f "astro dev"
```

---

## Testing Status

### Backend Tests ‚úÖ
- **TaskResourceTest.java**: 12 tests total
  - 5 tests for GET /api/tasks (filtering, pagination)
  - 7 tests for CRUD operations (POST, GET, PUT, DELETE)
- All passing in last run

### Frontend Tests ‚è≥
- Vitest configured but no tests written yet
- Placeholder for future component tests

### Manual Testing Required (T339-T349)
- [ ] Create task via "New Task" button
- [ ] Edit task inline
- [ ] Delete task with confirmation
- [ ] Validation errors (missing title, title >200 chars)
- [ ] Optimistic UI updates
- [ ] Page refresh persistence

---

## Reference Documentation

### Task List
**Location**: `/workspaces/specs/001-task-manager-app/tasks.md`
- 694 total tasks
- 338 completed (Phases 1-5)
- 356 remaining (Phases 6-10)

### Architecture Documentation
- **spec.md**: User stories and acceptance criteria
- **plan.md**: Technical architecture decisions
- **data-model.md**: Database schema and relationships
- **tasks.md**: Master task list with dependencies

### Official Docs
- Quarkus: https://quarkus.io/guides/
- Astro: https://docs.astro.build/
- Preact: https://preactjs.com/
- TanStack Query: https://tanstack.com/query/latest
- Shadcn/ui: https://ui.shadcn.com/
- Orval: https://orval.dev/

---

## Important Notes

### Git Status
- Branch: `001-task-manager-app`
- Phases 1-4: ‚úÖ Committed
- **Phase 5**: ‚ö†Ô∏è NOT committed yet
- User will review Phase 5 changes and commit manually

**Modified Files (Phase 5)**:
- `quarkus-astro-app/src/main/java/org/acme/taskmanager/service/TaskService.java`
- `quarkus-astro-app/src/main/java/org/acme/taskmanager/resource/TaskResource.java`
- `quarkus-astro-app/src/main/java/org/acme/taskmanager/contract/TaskResourceTest.java`
- `quarkus-astro-app/src/main/webui/src/islands/TaskList.tsx`
- `quarkus-astro-app/src/main/webui/src/pages/index.astro`
- `specs/001-task-manager-app/tasks.md`

**New Files (Phase 5)**:
- `quarkus-astro-app/src/main/java/org/acme/taskmanager/dto/TaskCreateDTO.java`
- `quarkus-astro-app/src/main/java/org/acme/taskmanager/dto/TaskUpdateDTO.java`
- `quarkus-astro-app/src/main/webui/src/islands/TaskForm.tsx`
- `quarkus-astro-app/src/main/webui/src/islands/NewTaskButton.tsx`
- `quarkus-astro-app/src/main/webui/src/components/ui/input.tsx`
- `quarkus-astro-app/src/main/webui/src/components/ui/textarea.tsx`
- `quarkus-astro-app/src/main/webui/src/components/ui/select.tsx`
- `quarkus-astro-app/src/main/webui/src/components/ui/label.tsx`
- `quarkus-astro-app/src/main/webui/src/components/ui/dialog.tsx`
- `quarkus-astro-app/src/main/webui/src/components/ui/alert-dialog.tsx`
- `SESSION_MEMORY.md` (this file - updated)
- `RESUME_CHECKLIST.md` (to be updated)

### Known Issues / Quirks

1. **ESLint Airbnb Config**: Cannot use official packages due to ESLint 9 incompatibility
2. **Husky Location**: MUST be at `/workspaces/.husky/`, not in webui subdirectory
3. **SessionUtils**: Uses `RoutingContext` (Vert.x), not `HttpSession` (Jakarta)
4. **H2 Database**: In-memory only, data lost on restart (intended for dev)
5. **Tailwind v4**: Beta version, uses `@tailwindcss/vite` plugin (different from v3)
6. **Authentication**: Not yet implemented (Phase 9) - endpoints require session but no login UI yet

---

## Session State Snapshot

### What Was Being Worked On
Just completed Phase 5: User Story 2 - Create and Edit Tasks (T265-T338).

### Last Actions
1. Implemented backend CRUD operations for tasks
2. Created TaskForm island with create/edit modes
3. Enhanced TaskList with inline editing and deletion
4. Created NewTaskButton with modal dialog
5. Updated tasks.md to mark T265-T338 as complete
6. Updated SESSION_MEMORY.md (this file)

### Current Todo List State
All Phase 5 implementation tasks completed. Testing tasks (T339-T349) remain for manual verification.

### Ready to Resume
Ready to start **Phase 6: User Story 3 - Organize with Categories and Priorities** beginning with T350 (contract tests for category CRUD).

---

## Quick Start Checklist for Resuming

- [ ] Ensure Quarkus dev server is running (background processes may be active)
- [ ] Check http://localhost:7171 - should show task manager
- [ ] Check http://localhost:7171/swagger-ui - should show API docs
- [ ] Review `/workspaces/specs/001-task-manager-app/tasks.md` - Phase 6 section
- [ ] Review current git status: `git status`
- [ ] Consider: Run contract tests to verify current state: `./mvnw test -Dtest=TaskResourceTest`
- [ ] Consider: Commit Phase 5 changes before starting Phase 6
- [ ] Ready to start T350: Write contract test for POST /api/categories

---

**End of Session Memory**

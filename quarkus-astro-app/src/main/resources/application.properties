# ==============================================================================
# HTTP Configuration
# ==============================================================================
quarkus.http.port=7171

# ==============================================================================
# Quinoa Configuration (Frontend Integration)
# ==============================================================================
quarkus.quinoa.package-manager-install=true
quarkus.quinoa.package-manager-install.node-version=20.17.0
quarkus.quinoa.package-manager-install.npm-version=10.8.2
quarkus.quinoa.ui-dir=src/main/webui
quarkus.quinoa.build-dir=dist
quarkus.quinoa.ignored-path-prefixes=/api
quarkus.quinoa.dev-server.port=3000

# ==============================================================================
# Database Configuration (H2 In-Memory)
# ==============================================================================
quarkus.datasource.db-kind=h2
quarkus.datasource.username=sa
quarkus.datasource.password=
quarkus.datasource.jdbc.url=jdbc:h2:mem:taskmanager;DB_CLOSE_DELAY=-1

# H2 Console (for development debugging)
quarkus.datasource.jdbc.enable-metrics=true
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.log.format-sql=true

# ==============================================================================
# Hibernate ORM Configuration
# ==============================================================================
# DDL generation: drop-and-create for development (recreates schema on startup)
quarkus.hibernate-orm.database.generation=drop-and-create

# Disable validation in production by setting to: validate
# quarkus.hibernate-orm.database.generation=validate

# ==============================================================================
# CORS Configuration (Local Development)
# ==============================================================================
# Allow frontend dev server (port 3000) to access backend API (port 7171)
quarkus.http.cors=true
quarkus.http.cors.origins=http://localhost:3000,http://localhost:7171
quarkus.http.cors.methods=GET,POST,PUT,DELETE,PATCH,OPTIONS
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with
quarkus.http.cors.exposed-headers=Content-Disposition
quarkus.http.cors.access-control-max-age=24H
quarkus.http.cors.access-control-allow-credentials=true

# ==============================================================================
# OpenAPI and Swagger UI Configuration
# ==============================================================================
# OpenAPI Schema Export Location (for Orval client generation)
quarkus.smallrye-openapi.store-schema-directory=src/main/webui/api

# OpenAPI Metadata
quarkus.smallrye-openapi.info-title=Task Manager API
quarkus.smallrye-openapi.info-description=RESTful API for Task Manager application demonstrating Islands Architecture
quarkus.smallrye-openapi.info-version=1.0.0
quarkus.smallrye-openapi.info-contact-name=Task Manager Team

# Swagger UI Configuration
quarkus.swagger-ui.title=Task Manager API
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.deep-linking=true
quarkus.swagger-ui.path=swagger-ui
quarkus.swagger-ui.tags-sorter=alpha
quarkus.swagger-ui.operations-sorter=alpha
quarkus.swagger-ui.theme=flattop

# ==============================================================================
# Logging Configuration
# ==============================================================================
quarkus.log.level=INFO
quarkus.log.category."org.acme.taskmanager".level=DEBUG
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n

# ==============================================================================
# Dev Services (Optional - disable for manual H2 setup)
# ==============================================================================
quarkus.devservices.enabled=false
